{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const Account=()=>{const[isLogin,setIsLogin]=useState(true);const[name,setName]=useState('');const[mobileNo,setMobileNo]=useState('');const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[confirmPassword,setConfirmPassword]=useState('');const[error,setError]=useState('');const[success,setSuccess]=useState('');const navigate=useNavigate();const handleSignIn=async e=>{e.preventDefault();if(password!==confirmPassword){setError(\"Passwords don't match!\");return;}try{const response=await axios.post('http://localhost:5000/signup',{name,mobileNo,email,password});setSuccess('Sign Up successful! You can now log in.');setError('');setName('');setMobileNo('');setEmail('');setPassword('');setConfirmPassword('');}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Error signing up. Please try again.');setSuccess('');}};const handleLogIn=async e=>{e.preventDefault();try{const response=await axios.post('http://localhost:5000/login',{email,password});localStorage.setItem('user_id',response.data.user_id);localStorage.setItem('userEmail',email);localStorage.setItem('username',response.data.name);localStorage.setItem('is_admin',response.data.is_admin);setSuccess('Log In successful!');setError('');if(response.data.is_admin){navigate('/admin-dashboard');}else{navigate('/');}}catch(err){setError('Error logging in. Please check your credentials.');setSuccess('');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md mx-auto mt-10 p-8 rounded-xl shadow-lg bg-gradient-to-br from-white to-gray-100 font-sans transition-all flex flex-col justify-center content-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-center mb-6 text-gray-800\",children:isLogin?'Log In':'Sign Up'}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:isLogin?handleLogIn:handleSignIn,className:\"flex flex-col space-y-6 justify-center content-center \",children:[!isLogin&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,onChange:e=>setName(e.target.value),placeholder:\"Name\",required:true,className:\"p-3 rounded-md border border-gray-300 focus:ring-2 focus:ring-blue-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",value:mobileNo,onChange:e=>setMobileNo(e.target.value),placeholder:\"Mobile No\",required:true,className:\"p-3 rounded-md border border-gray-300 focus:ring-2 focus:ring-blue-400\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:email,onChange:e=>setEmail(e.target.value),placeholder:\"Email\",required:true,className:\"p-3 rounded-md border border-gray-300 focus:ring-2 focus:ring-blue-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:e=>setPassword(e.target.value),placeholder:\"Password\",required:true,className:\"p-3 rounded-md border border-gray-300 focus:ring-2 focus:ring-blue-400\"}),!isLogin&&/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:confirmPassword,onChange:e=>setConfirmPassword(e.target.value),placeholder:\"Confirm Password\",required:true,className:\"p-3 rounded-md border border-gray-300 focus:ring-2 focus:ring-blue-400\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-blue-600 hover:bg-blue-700 text-white py-1 rounded-md text-lg transition duration-300 w-\",children:isLogin?'Log In':'Sign Up'}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-center text-sm text-gray-600\",children:[isLogin?'Don\\'t have an account?':'Already have an account?',/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setIsLogin(!isLogin),className:\"text-blue-600 ml-1 underline\",children:isLogin?'Sign Up':'Log In'})]}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"bg-red-100 text-red-600 text-center p-2 rounded-md\",children:error}),success&&/*#__PURE__*/_jsx(\"p\",{className:\"bg-green-100 text-green-700 text-center p-2 rounded-md\",children:success})]})]});};export default Account;","map":{"version":3,"names":["React","useState","axios","useNavigate","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Account","isLogin","setIsLogin","name","setName","mobileNo","setMobileNo","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","error","setError","success","setSuccess","navigate","handleSignIn","e","preventDefault","response","post","err","_err$response","_err$response$data","data","message","handleLogIn","localStorage","setItem","user_id","is_admin","className","children","onSubmit","type","value","onChange","target","placeholder","required","onClick"],"sources":["C:/Users/Arbaz Khan/recommendation-system/frontend/src/components/Account.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst Account = () => {\r\n    const [isLogin, setIsLogin] = useState(true);\r\n    const [name, setName] = useState('');\r\n    const [mobileNo, setMobileNo] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [confirmPassword, setConfirmPassword] = useState('');\r\n    const [error, setError] = useState('');\r\n    const [success, setSuccess] = useState('');\r\n    const navigate = useNavigate();\r\n\r\n    const handleSignIn = async (e) => {\r\n        e.preventDefault();\r\n        if (password !== confirmPassword) {\r\n            setError(\"Passwords don't match!\");\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const response = await axios.post('http://localhost:5000/signup', {\r\n                name,\r\n                mobileNo,\r\n                email,\r\n                password,\r\n            });\r\n            setSuccess('Sign Up successful! You can now log in.');\r\n            setError('');\r\n            setName('');\r\n            setMobileNo('');\r\n            setEmail('');\r\n            setPassword('');\r\n            setConfirmPassword('');\r\n        } catch (err) {\r\n            setError(err.response?.data?.message || 'Error signing up. Please try again.');\r\n            setSuccess('');\r\n        }\r\n    };\r\n\r\n    const handleLogIn = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            const response = await axios.post('http://localhost:5000/login', {\r\n                email,\r\n                password,\r\n            });\r\n\r\n            localStorage.setItem('user_id', response.data.user_id);\r\n            localStorage.setItem('userEmail', email);\r\n            localStorage.setItem('username' ,response.data.name);\r\n            localStorage.setItem('is_admin', response.data.is_admin);\r\n\r\n            setSuccess('Log In successful!');\r\n            setError('');\r\n\r\n            if (response.data.is_admin) {\r\n                navigate('/admin-dashboard');\r\n            } else {\r\n                navigate('/');\r\n            }\r\n        } catch (err) {\r\n            setError('Error logging in. Please check your credentials.');\r\n            setSuccess('');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"max-w-md mx-auto mt-10 p-8 rounded-xl shadow-lg bg-gradient-to-br from-white to-gray-100 font-sans transition-all flex flex-col justify-center content-center\">\r\n            <h2 className=\"text-2xl font-bold text-center mb-6 text-gray-800\">\r\n                {isLogin ? 'Log In' : 'Sign Up'}\r\n            </h2>\r\n            <form onSubmit={isLogin ? handleLogIn : handleSignIn} className=\"flex flex-col space-y-6 justify-center content-center \">\r\n                {!isLogin && (\r\n                    <>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={name}\r\n                            onChange={(e) => setName(e.target.value)}\r\n                            placeholder=\"Name\"\r\n                            required\r\n                            className=\"p-3 rounded-md border border-gray-300 focus:ring-2 focus:ring-blue-400\"\r\n                        />  \r\n                        <input\r\n                            type=\"tel\"\r\n                            value={mobileNo}\r\n                            onChange={(e) => setMobileNo(e.target.value)}\r\n                            placeholder=\"Mobile No\"\r\n                            required\r\n                            className=\"p-3 rounded-md border border-gray-300 focus:ring-2 focus:ring-blue-400\"\r\n                        />\r\n                    </>\r\n                )}\r\n                <input\r\n                    type=\"email\"\r\n                    value={email}\r\n                    onChange={(e) => setEmail(e.target.value)}\r\n                    placeholder=\"Email\"\r\n                    required\r\n                    className=\"p-3 rounded-md border border-gray-300 focus:ring-2 focus:ring-blue-400\"\r\n                />\r\n                <input\r\n                    type=\"password\"\r\n                    value={password}\r\n                    onChange={(e) => setPassword(e.target.value)}\r\n                    placeholder=\"Password\"\r\n                    required\r\n                    className=\"p-3 rounded-md border border-gray-300 focus:ring-2 focus:ring-blue-400\"\r\n                />\r\n                {!isLogin && (\r\n                    <input\r\n                        type=\"password\"\r\n                        value={confirmPassword}\r\n                        onChange={(e) => setConfirmPassword(e.target.value)}\r\n                        placeholder=\"Confirm Password\"\r\n                        required\r\n                        className=\"p-3 rounded-md border border-gray-300 focus:ring-2 focus:ring-blue-400\"\r\n                    />\r\n                )}\r\n                <button\r\n                    type=\"submit\"\r\n                    className=\"bg-blue-600 hover:bg-blue-700 text-white py-1 rounded-md text-lg transition duration-300 w-\"\r\n                >\r\n                    {isLogin ? 'Log In' : 'Sign Up'}\r\n                </button>\r\n\r\n                <p className=\"text-center text-sm text-gray-600\">\r\n                    {isLogin ? 'Don\\'t have an account?' : 'Already have an account?'}\r\n                    <button\r\n                        type=\"button\"\r\n                        onClick={() => setIsLogin(!isLogin)}\r\n                        className=\"text-blue-600 ml-1 underline\"\r\n                    >\r\n                        {isLogin ? 'Sign Up' : 'Log In'}\r\n                    </button>\r\n                </p>\r\n                {error && <p className=\"bg-red-100 text-red-600 text-center p-2 rounded-md\">{error}</p>}\r\n                {success && <p className=\"bg-green-100 text-green-700 text-center p-2 rounded-md\">{success}</p>}\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Account;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}