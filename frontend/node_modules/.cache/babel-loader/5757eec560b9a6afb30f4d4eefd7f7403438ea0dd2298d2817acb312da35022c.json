{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Arbaz Khan\\\\recommendation-system\\\\frontend\\\\src\\\\components\\\\ProductDetail.js\",\n  _s = $RefreshSig$();\n// src/components/ProductDetail.js\nimport React, { useState, useEffect } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport './ProductDetail.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductDetail = () => {\n  _s();\n  const {\n    state\n  } = useLocation();\n  const product = state === null || state === void 0 ? void 0 : state.product; // Product passed via navigation\n  const [recommendations, setRecommendations] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const productName = searchParams.get('query');\n  const navigate = useNavigate();\n  const getValidImageUrl = imageUrl => {\n    const imageUrls = imageUrl.split('|').map(url => url.trim());\n    for (const url of imageUrls) {\n      if (url) return url;\n    }\n    return 'https://via.placeholder.com/150';\n  };\n  const handleCardClick = product => {\n    // Navigate to product detail page and pass product data\n    navigate(`/product-detail`, {\n      state: {\n        product\n      }\n    });\n  };\n  useEffect(() => {\n    const fetchRecommendations = async () => {\n      if (!productName) return;\n      setLoading(true);\n      setError('');\n      try {\n        const {\n          data\n        } = await axios.get(`http://localhost:5000/content-recommendation?item_name=${productName}`);\n        setRecommendations(data);\n      } catch (error) {\n        setError('Failed to fetch recommendations. Please try again.');\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchRecommendations();\n  }, [productName]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"product-detail-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: product === null || product === void 0 ? void 0 : product.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"product-detail\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: getValidImageUrl(product === null || product === void 0 ? void 0 : product.ImageURL),\n        alt: product === null || product === void 0 ? void 0 : product.Name,\n        className: \"product-image\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: product === null || product === void 0 ? void 0 : product.Name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: product === null || product === void 0 ? void 0 : product.Brand\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Rating: \", product === null || product === void 0 ? void 0 : product.Rating, \" \\u2B50\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [product === null || product === void 0 ? void 0 : product.ReviewCount, \" reviews\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: product === null || product === void 0 ? void 0 : product.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Similar Products\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 19\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }, this), recommendations.length === 0 && !loading && !error && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No recommendations found\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"recommendation-container\",\n      children: recommendations.map(rec => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"recommendation-card\",\n        onClick: () => handleCardClick(rec),\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: getValidImageUrl(rec.ImageURL),\n          alt: rec.Name,\n          className: \"product-image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: rec.Name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: rec.Brand\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Rating: \", rec.Rating, \" \\u2B50\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [rec.ReviewCount, \" reviews\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this)]\n      }, rec.ID, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductDetail, \"5WPjbCXMgv4h+6QhYqI2Ks+CnI4=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = ProductDetail;\nexport default ProductDetail;\nvar _c;\n$RefreshReg$(_c, \"ProductDetail\");","map":{"version":3,"names":["React","useState","useEffect","useLocation","useNavigate","axios","jsxDEV","_jsxDEV","ProductDetail","_s","state","product","recommendations","setRecommendations","loading","setLoading","error","setError","productName","searchParams","get","navigate","getValidImageUrl","imageUrl","imageUrls","split","map","url","trim","handleCardClick","fetchRecommendations","data","className","children","name","fileName","_jsxFileName","lineNumber","columnNumber","src","ImageURL","alt","Name","Brand","Rating","ReviewCount","description","length","rec","onClick","ID","_c","$RefreshReg$"],"sources":["C:/Users/Arbaz Khan/recommendation-system/frontend/src/components/ProductDetail.js"],"sourcesContent":["// src/components/ProductDetail.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport './ProductDetail.css';\r\n\r\nconst ProductDetail = () => {\r\n  const { state } = useLocation();\r\n  const product = state?.product; // Product passed via navigation\r\n  const [recommendations, setRecommendations] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const productName = searchParams.get('query');\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const getValidImageUrl = (imageUrl) => {\r\n    const imageUrls = imageUrl.split('|').map(url => url.trim());\r\n    for (const url of imageUrls) {\r\n      if (url) return url; \r\n    }\r\n    return 'https://via.placeholder.com/150'; \r\n  };\r\n\r\n  const handleCardClick = (product) => {\r\n    // Navigate to product detail page and pass product data\r\n    navigate(`/product-detail`, { state: { product } });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchRecommendations = async () => {\r\n      if (!productName) return;\r\n      setLoading(true);\r\n      setError('');\r\n      try {\r\n        const { data } = await axios.get(`http://localhost:5000/content-recommendation?item_name=${productName}`);\r\n        setRecommendations(data);\r\n      } catch (error) {\r\n        setError('Failed to fetch recommendations. Please try again.');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    \r\n    fetchRecommendations();\r\n  }, [productName]);\r\n\r\n  return (\r\n    <div className=\"product-detail-container\">\r\n      <h1>{product?.name}</h1>\r\n\r\n      <div className=\"product-detail\">\r\n        <img\r\n          src={getValidImageUrl(product?.ImageURL)}\r\n          alt={product?.Name}\r\n          className=\"product-image\"\r\n        />\r\n        <div className=\"product-info\">\r\n          <h2>{product?.Name}</h2>\r\n          <p>{product?.Brand}</p>\r\n          <p>Rating: {product?.Rating} ⭐</p>\r\n          <p>{product?.ReviewCount} reviews</p>\r\n          <p>{product?.description}</p>\r\n        </div>\r\n      </div>\r\n\r\n      <h3>Similar Products</h3>\r\n      {loading && <p>Loading...</p>}\r\n      {error && <p className=\"error\">{error}</p>}\r\n      {recommendations.length === 0 && !loading && !error && (\r\n        <p>No recommendations found</p>\r\n      )}\r\n\r\n      <div className=\"recommendation-container\">\r\n        {recommendations.map((rec) => (\r\n          <div key={rec.ID} className=\"recommendation-card\" onClick={() => handleCardClick(rec)}>\r\n            <img\r\n              src={getValidImageUrl(rec.ImageURL)}\r\n              alt={rec.Name}\r\n              className=\"product-image\"\r\n            />\r\n            <div className=\"product-info\">\r\n              <h2>{rec.Name}</h2>\r\n              <p>{rec.Brand}</p>\r\n              <p>Rating: {rec.Rating} ⭐</p>\r\n              <p>{rec.ReviewCount} reviews</p>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductDetail;\r\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,WAAW,EAAEC,WAAW,QAAQ,kBAAkB;AAC3D,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAO,qBAAqB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE7B,MAAMC,aAAa,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC1B,MAAM;IAAEC;EAAM,CAAC,GAAGP,WAAW,CAAC,CAAC;EAC/B,MAAMQ,OAAO,GAAGD,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEC,OAAO,CAAC,CAAC;EAChC,MAAM,CAACC,eAAe,EAAEC,kBAAkB,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAC1D,MAAM,CAACa,OAAO,EAAEC,UAAU,CAAC,GAAGd,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACe,KAAK,EAAEC,QAAQ,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAMiB,WAAW,GAAGC,YAAY,CAACC,GAAG,CAAC,OAAO,CAAC;EAE7C,MAAMC,QAAQ,GAAGjB,WAAW,CAAC,CAAC;EAE9B,MAAMkB,gBAAgB,GAAIC,QAAQ,IAAK;IACrC,MAAMC,SAAS,GAAGD,QAAQ,CAACE,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC;IAC5D,KAAK,MAAMD,GAAG,IAAIH,SAAS,EAAE;MAC3B,IAAIG,GAAG,EAAE,OAAOA,GAAG;IACrB;IACA,OAAO,iCAAiC;EAC1C,CAAC;EAED,MAAME,eAAe,GAAIlB,OAAO,IAAK;IACnC;IACAU,QAAQ,CAAC,iBAAiB,EAAE;MAAEX,KAAK,EAAE;QAAEC;MAAQ;IAAE,CAAC,CAAC;EACrD,CAAC;EAEDT,SAAS,CAAC,MAAM;IACd,MAAM4B,oBAAoB,GAAG,MAAAA,CAAA,KAAY;MACvC,IAAI,CAACZ,WAAW,EAAE;MAClBH,UAAU,CAAC,IAAI,CAAC;MAChBE,QAAQ,CAAC,EAAE,CAAC;MACZ,IAAI;QACF,MAAM;UAAEc;QAAK,CAAC,GAAG,MAAM1B,KAAK,CAACe,GAAG,CAAC,0DAA0DF,WAAW,EAAE,CAAC;QACzGL,kBAAkB,CAACkB,IAAI,CAAC;MAC1B,CAAC,CAAC,OAAOf,KAAK,EAAE;QACdC,QAAQ,CAAC,oDAAoD,CAAC;MAChE,CAAC,SAAS;QACRF,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IAEDe,oBAAoB,CAAC,CAAC;EACxB,CAAC,EAAE,CAACZ,WAAW,CAAC,CAAC;EAEjB,oBACEX,OAAA;IAAKyB,SAAS,EAAC,0BAA0B;IAAAC,QAAA,gBACvC1B,OAAA;MAAA0B,QAAA,EAAKtB,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEuB;IAAI;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eAExB/B,OAAA;MAAKyB,SAAS,EAAC,gBAAgB;MAAAC,QAAA,gBAC7B1B,OAAA;QACEgC,GAAG,EAAEjB,gBAAgB,CAACX,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAE6B,QAAQ,CAAE;QACzCC,GAAG,EAAE9B,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAE+B,IAAK;QACnBV,SAAS,EAAC;MAAe;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC1B,CAAC,eACF/B,OAAA;QAAKyB,SAAS,EAAC,cAAc;QAAAC,QAAA,gBAC3B1B,OAAA;UAAA0B,QAAA,EAAKtB,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAE+B;QAAI;UAAAP,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eACxB/B,OAAA;UAAA0B,QAAA,EAAItB,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEgC;QAAK;UAAAR,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACvB/B,OAAA;UAAA0B,QAAA,GAAG,UAAQ,EAACtB,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEiC,MAAM,EAAC,SAAE;QAAA;UAAAT,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eAClC/B,OAAA;UAAA0B,QAAA,GAAItB,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEkC,WAAW,EAAC,UAAQ;QAAA;UAAAV,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eACrC/B,OAAA;UAAA0B,QAAA,EAAItB,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEmC;QAAW;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC1B,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAEN/B,OAAA;MAAA0B,QAAA,EAAI;IAAgB;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EACxBxB,OAAO,iBAAIP,OAAA;MAAA0B,QAAA,EAAG;IAAU;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,EAC5BtB,KAAK,iBAAIT,OAAA;MAAGyB,SAAS,EAAC,OAAO;MAAAC,QAAA,EAAEjB;IAAK;MAAAmB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EACzC1B,eAAe,CAACmC,MAAM,KAAK,CAAC,IAAI,CAACjC,OAAO,IAAI,CAACE,KAAK,iBACjDT,OAAA;MAAA0B,QAAA,EAAG;IAAwB;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAC/B,eAED/B,OAAA;MAAKyB,SAAS,EAAC,0BAA0B;MAAAC,QAAA,EACtCrB,eAAe,CAACc,GAAG,CAAEsB,GAAG,iBACvBzC,OAAA;QAAkByB,SAAS,EAAC,qBAAqB;QAACiB,OAAO,EAAEA,CAAA,KAAMpB,eAAe,CAACmB,GAAG,CAAE;QAAAf,QAAA,gBACpF1B,OAAA;UACEgC,GAAG,EAAEjB,gBAAgB,CAAC0B,GAAG,CAACR,QAAQ,CAAE;UACpCC,GAAG,EAAEO,GAAG,CAACN,IAAK;UACdV,SAAS,EAAC;QAAe;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1B,CAAC,eACF/B,OAAA;UAAKyB,SAAS,EAAC,cAAc;UAAAC,QAAA,gBAC3B1B,OAAA;YAAA0B,QAAA,EAAKe,GAAG,CAACN;UAAI;YAAAP,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACnB/B,OAAA;YAAA0B,QAAA,EAAIe,GAAG,CAACL;UAAK;YAAAR,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAClB/B,OAAA;YAAA0B,QAAA,GAAG,UAAQ,EAACe,GAAG,CAACJ,MAAM,EAAC,SAAE;UAAA;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eAC7B/B,OAAA;YAAA0B,QAAA,GAAIe,GAAG,CAACH,WAAW,EAAC,UAAQ;UAAA;YAAAV,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7B,CAAC;MAAA,GAXEU,GAAG,CAACE,EAAE;QAAAf,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAYX,CACN;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAAC7B,EAAA,CAtFID,aAAa;EAAA,QACCL,WAAW,EAOZC,WAAW;AAAA;AAAA+C,EAAA,GARxB3C,aAAa;AAwFnB,eAAeA,aAAa;AAAC,IAAA2C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}